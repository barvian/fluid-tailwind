--- 
import '/assets/main.css'
import type { MDXLayoutProps } from 'astro'
import TOC from '/components/TOC.svelte'
import { searchForWorkspaceRoot } from 'vite'
import { relative } from 'node:path'
import Input from './_example/input.mdx'
import Output from './_example/output.mdx'
import Example from './_example/input.astro'
import Split from './_Split.svelte'
import Browser from './_Browser.svelte'
import pkg from '../../plugin/package.json'

type Props = MDXLayoutProps<{
	title: string
    lead: string
    description: string
}>

const { headings, file, frontmatter } = Astro.props
const root = searchForWorkspaceRoot(file)
const path = relative(root, file)
---

<!DOCTYPE html>
<html lang="en" class="min-h-screen motion-safe:scroll-smooth bg-white dark:bg-slate-900 antialiased overflow-x-hidden scroll-pt-10">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description">
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/logo.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Fluid Tailwind CSS</title>
        <meta name="description" content={frontmatter.description} />
	</head>
	<header class="~pt-5/8 ~pb-20/28 relative">
        <div class="absolute inset-0 -z-10 bg-slate-50 dark:bg-[#0B1120] ~bottom-40/72 dark:border-b dark:border-slate-100/5 before:absolute before:inset-0 before:[mask-image:linear-gradient(transparent,black)] before:bg-grid-slate-900/[0.04] before:bg-[bottom_1px_center] dark:before:bg-grid-slate-400/[0.05] dark:before:bg-bottom after:bg-gradients after:absolute after:bottom-0 after:w-full after:h-[120%] after:opacity-30 after:max-w-[90rem] after:-translate-x-1/2 after:left-1/2" />
        <nav class="container ~mb-20/28 flex items-center justify-start">
            <a href="/">
                <img src="/logo.svg" alt="Fluid.Style logo" class="h-6" />
            </a>
            <svg class="h-6 mx-2" role="separator" viewBox="0 0 32 32"><path d="M22 5L9 28" vector-effect="non-scaling-stroke" class="stroke-slate-200 dark:stroke-slate-700" stroke-linecap="round" stroke-linejoin="round" /></svg>
            <span class="text-slate-700 dark:text-slate-200">Tailwind CSS Plugin</span>
            <a href={pkg.repository} class="ml-auto block text-slate-400 hover:text-slate-500 dark:hover:text-slate-300">
                <svg viewBox="0 0 16 16" class="w-6 h-6" fill="currentColor" aria-label="View on Github">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                </svg>
            </a>
        </nav>
        <div class="container relative flex flex-col items-center">
            <h1 class="text-slate-900 max-w-3xl font-extrabold text-center ~text-4xl/6xl tracking-tight dark:text-white">
                {frontmatter.title}
            </h1>
            <p class="mt-6 text-lg text-slate-600 text-center max-w-3xl dark:text-slate-400">
                {frontmatter.lead}
            </p>
            <a class="bg-slate-900 ~mt-6/8 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-50 text-white font-semibold h-12 px-6 rounded-lg inline-flex items-center justify-center dark:bg-sky-500 dark:highlight-white/20 dark:hover:bg-sky-400" href="#installation">Get started</a>
            <div class="~mt-16/24 sm:~mt-24/36 relative w-full">
                <Split class="sm:w-[60%] sm:ml-auto ~h-[30rem]/[40rem] shadow-xl [&>.ec_.frame]:!shadow-none" rows="grid-rows-[minmax(0,0.6fr)]">
                    <Input />
                    <Output />
                </Split>
                <Browser class="max-sm:hidden absolute -top-10 right-1/3 h-full left-0 z-10" client:visible>
                    <Example />
                </Browser>
            </div>
        </div>
    </header>
	<div class="container grid grid-cols-1 lg:grid-cols-[auto_minmax(0,1fr)] ~lg:~gap-x-6/10">
		<div class="relative max-lg:hidden w-[13rem]">
			<div class="sticky -mt-10 top-0 ~lg:~pr-6/10 py-10 max-h-screen overflow-y-auto">
				<TOC {headings} client:load />
			</div>
		</div>
		<main>
			<article class="prose prose-slate dark:prose-invert mx-auto w-full lg:max-w-none">
				<slot />
			</article>
		</main>
		<footer class="text-sm mt-16 lg:col-start-2 pt-10 pb-14 border-t border-slate-200 sm:flex justify-between text-slate-500 dark:border-slate-200/5">
			<div class="mb-6 sm:mb-0 sm:flex">
				<p>Copyright Â©{new Date().getFullYear()}. Not affiliated with Tailwind Labs Inc.</p>
			</div>
			<a class="hover:text-slate-900 dark:hover:text-slate-400" href={`https://github.com/barvian/fluid.style/edit/main/${path}`}>Edit this page on GitHub</a>
		</footer>
	</div>
</html>
